spring:
  application:
    name: projectnil-api

  datasource:
    url: ${DB_URL:jdbc:postgresql://localhost:5432/projectnil}
    username: ${DB_USERNAME:projectnil}
    password: ${DB_PASSWORD:projectnil}
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: validate
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
    open-in-view: false

  liquibase:
    change-log: classpath:db/changelog/db.changelog-master.yaml
    enabled: ${LIQUIBASE_ENABLED:false}

# WASM Runtime Configuration
projectnil:
  wasm:
    timeout: 10s

  # PGMQ Configuration
  pgmq:
    job-queue: ${PGMQ_JOB_QUEUE:compilation_jobs}
    result-queue: ${PGMQ_RESULT_QUEUE:compilation_results}
    poll-interval-ms: ${PGMQ_POLL_INTERVAL_MS:1000}
    visibility-timeout-seconds: ${PGMQ_VISIBILITY_TIMEOUT:30}
